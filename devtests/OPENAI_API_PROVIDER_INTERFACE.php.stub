<?php
interface OpenAI_ProviderInterface {
    /**
     * Chat completion (non-streaming). Returns normalized assistant message and usage.
     */
    public function chat(array $request, array $context): array;

    /**
     * Chat completion (streaming). Emits OpenAI-compatible chunks via $emitChunk.
     */
    public function streamChat(array $request, callable $emitChunk, array $context): void;

    /** Audio transcription. */
    public function transcribe(array $request, array $context): array;

    /** Text-to-speech. */
    public function textToSpeech(array $request, array $context): array;

    /** Image generation. */
    public function imageGenerate(array $request, array $context): array;
}
