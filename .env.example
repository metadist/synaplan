# ==========================================
# Application Environment (Local Development)
# ==========================================
# This template is for LOCAL development WITHOUT Docker.
# For Docker: Use .env.docker defaults or create .env to override.

APP_ENV=development                    # development, production, testing
APP_DEBUG=true                         # Set to false in production

# Local Development URL (choose one and comment the others):
APP_URL=http://localhost/              # Local PHP dev server or Apache
# APP_URL=http://localhost:8000/       # PHP built-in server: php -S localhost:8000
# APP_URL=http://localhost:8080/       # Docker (or copy .env.docker for Docker)

# ==========================================
# Database Configuration (Local)
# ==========================================
# For Docker: db credentials are in .env.docker
DB_HOST=localhost                      # Database host (use 'db' for Docker)
DB_NAME=synaplan                      # Database name
DB_USER=synaplan                  # Database username (use 'synaplan_user' for Docker)
DB_PASSWORD=synaplan          # Database password (use 'synaplan_password' for Docker)

# For Docker: use service names (ollama:11434, tika:9998)
OLLAMA_SERVER=localhost:11434

# Optional triton server - integrated for a customer project
# TRITON_SERVER=localhost:8001

# ==========================================
# AI Service API Keys
# ==========================================

# OpenAI API Key (Required for OpenAI services)
# Get it from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Groq API Key (Required for Groq services)
# Get it from: https://console.groq.com/keys
GROQ_API_KEY=gsk-your-groq-api-key-here

# Google Gemini API Key (Required for Google AI services)
# Get it from: https://makersuite.google.com/app/apikey
GOOGLE_GEMINI_API_KEY=AIza-your-gemini-api-key-here

# Anthropic API Key (Required for Claude services)
# Get it from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# TheHive API Key (Required for TheHive integration)
# Get it from your TheHive instance settings
THEHIVE_API_KEY=your-thehive-api-key-here

# ElevenLabs API Key (Required for text-to-speech)
# Get it from: https://elevenlabs.io/app
ELEVENLABS_API_KEY=your-elevenlabs-api-key-here

# Brave Search API Key (Required for search functionality)
# Get it from: https://brave.com/search/api/
BRAVE_SEARCH_API_KEY=your-brave-search-api-key-here

# WhatsApp Business API Token
# Get it from your WhatsApp Business API account
WHATSAPP_TOKEN=your-whatsapp-token-here

# AWS Credentials (Required for AWS services)
# Format: access_key;secret_key
AWS_CREDENTIALS=your-aws-access-key;your-aws-secret-key

# ==========================================
# OAuth Configuration
# ==========================================

# Google OAuth Credentials (JSON format)
# Get it from: https://console.cloud.google.com/apis/credentials
# Required for Google services and Gmail integration
GOOGLE_OAUTH_CREDENTIALS={"web": { "client_id":"your-client-id","project_id":"your-project-id","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_secret":"your-client-secret","javascript_origins":["https://app.synaplan.com","https://your-domain.com"] } }

# Gmail OAuth Token (JSON format)
# This will be generated during the OAuth flow
# Do not manually set this value

GMAIL_OAUTH_TOKEN={"access_token":"your-access-token","expires_in":3599,"scope":"https://www.googleapis.com/auth/gmail.modify","token_type":"Bearer","created":1234567890,"refresh_token":"your-refresh-token"}

# ==========================================
# Optional Configuration
# ==========================================

# Composer Process Timeout (in seconds)
# Increase this if you have timeout issues during composer operations
COMPOSER_PROCESS_TIMEOUT=1600

# ==========================================
# OpenID Connect (OIDC) Configuration
# ==========================================
# OIDC_PROVIDER_URL=https://keycloak.your.domain/realms/master
# OIDC_CLIENT_ID=synaplan
# OIDC_CLIENT_SECRET=synaplan_client_secret
# OIDC_REDIRECT_URI=http://localhost:8080/oidc_callback.php # Must match ${APP_URL}/oidc_callback.php

# OIDC Auto-Redirect (default: enabled)
# Set to 'false' to disable automatic redirect to IDP and show traditional login form
# By default, users are automatically redirected to the OIDC provider
# OIDC_AUTO_REDIRECT=false

# OIDC SSL Verification (optional)
# Set to 'false' to disable SSL verification (development only)
# OIDC_SSL_VERIFY=false

# Note: Add any additional environment variables your application needs below
# Apache Tika (Docker local)
TIKA_ENABLED=true

# Tika URL
TIKA_URL=http://tika:9998

# Optional: HTTP Basic Authentication for Tika
# Leave both empty to disable authentication
TIKA_HTTP_USER=
TIKA_HTTP_PASS=

# Optional tuning (recommended defaults)
TIKA_TIMEOUT_MS=20000
TIKA_RETRIES=2
TIKA_RETRY_BACKOFF_MS=500
TIKA_MIN_LENGTH=200
TIKA_MIN_ENTROPY=2.5
TIKA_OCR_SIGNAL_MIN=1
RASTERIZE_DPI=150
RASTERIZE_PAGE_CAP=5
RASTERIZE_TIMEOUT_MS=60000
TIKA_MIN_CHAR_PER_KB=10

# ==========================================
# Rate Limiting Configuration
# ==========================================
RATE_LIMITING_ENABLED=true            # Enable/disable rate limiting system

# ==========================================
# System URLs Configuration
# ==========================================
# Configure URLs for upgrade/account links in rate limit messages
# Supports absolute URLs, relative paths, or protocol-relative URLs

# Pricing page URL (shown when users hit limits)
SYSTEM_PRICING_URL=https://www.synaplan.com/pricing

# Account management URL  
SYSTEM_ACCOUNT_URL=https://www.synaplan.com/account

# Upgrade page URL (for subscription upgrades)
SYSTEM_UPGRADE_URL=https://www.synaplan.com/upgrade